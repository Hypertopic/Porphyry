services: couchdb
language: 
- java
- python
- node_js
node_js:
  - stable
cache:
  directories:
  - $HOME/.cache/pip/
install : 
#Installation Couchapp
- pip install --user couchapp  
#Installation ARGOS
- git clone https://github.com/Hypertopic/Argos.git
- cd Argos
- curl -X PUT http://127.0.0.1:5984/argos
- couchapp init
- couchapp push http://127.0.0.1:5984/argos
- curl http://127.0.0.1:5984/argos
- cd ..
- curl http://127.0.0.1:5984/test/_design/argos/_rewrite/
# Install Cassandre
- curl -X PUT -d '"false"' localhost:5984/_config/httpd/secure_rewrites
- curl -X PUT localhost:5984/cassandre
- wget https://github.com/Ozymandiiaz/Cassandre/archive/travis-test.zip
- unzip travis-test.zip
- couchapp push  Cassandre-travis-test http://localhost:5984/cassandre
before_script : 
- cd  Cassandre-travis-test/node
- npm install express
- npm install express-http-proxy
- npm install async
- node app.js &
- cd ../..
script: 
- ant test-argos
- ant test
